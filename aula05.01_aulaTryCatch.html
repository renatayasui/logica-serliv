<!doctype html>
	<html>
		<head>
			<title>Lógica de Programação Javascript-Try Catch</title>
			<meta charset="utf-8">
		</head>

		<body>
			<h1>Lógica de Programação com Javascript-Try Catch</h1>

			<button onclick="iniciarCalculo('+')">+</button>
			<button onclick="iniciarCalculo('-')">-</button>
			<button onclick="iniciarCalculo('*')">*</button>
			<button onclick="iniciarCalculo('/')">/</button>

			<div id="output"></div>

			<script>
				var n2 = prompt('digite um número');
				n2 = parseFloat(n2);

				escreve(n2);

				function iniciarCalculo(simbolo) {
					var n1 = document.querySelector('#output').textContent;
					n1 = parseFloat(n1);

					var n2 = prompt('digite outro número');
					n2 = parseFloat(n2);

					try {
						var msg = calcular(simbolo, n1, n2);
					} catch(e) {
						alert(e);
						return;
					}

					

					escreve(msg);
				}

				function escreve(mensagem) {
					var output = document.querySelector('#output');
					output.innerHTML = mensagem;
				}

				function calcular(simbolo, n1, n2) {

					if(simbolo != '+' && simbolo != '-' && simbolo != '*' && simbolo != '/') {
						throw new Error('digite um símbolo válido');
					}

					if( isNaN(n1) || isNaN(n2) ) {
						throw new Error('chama passando somente números');
					}

					var numeroCalculado = null

					switch(simbolo) {
						case '+':
							numeroCalculado = n1 + n2;
							break;
						case '-':
							numeroCalculado = n1 - n2;
							break;
						case '*':
							numeroCalculado = n1 * n2;
							break;
						case '/':
							numeroCalculado = n1 / n2;
							break; 
					}

					return numeroCalculado;
				}

			</script>
		</body>
	</html>